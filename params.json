{"name":"Rejseplanentilpebble","tagline":"Til Pebble","body":"<!DOCTYPE HTML>\r\n<html>\r\n<head>\r\n<!-- Latest compiled and minified CSS -->\r\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" integrity=\"sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==\" crossorigin=\"anonymous\">\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js\"></script>\r\n</head>\r\n<body>\r\n<div class=\"container\">\r\n\t<div class=\"jumbotron\">\r\n\t\t<h2>Rejseplanen på Pebble</h2>\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<pre style=\"font-size: large;\">\r\nFind stationen/stoppestedet ved at søge herunder. \r\nOBS vær opmærksom på at vælge et element fra listen!</pre>\r\n\t\t\t<label for=\"home\">Hjem:&nbsp; </label><input id=\"hjem\" class=\"form-control\" name=\"home\" onkeyup=\"search(this.value, this)\"></input>\r\n\t\t\t<div width=100 height=100 id=\"livesearchhjem\"></div>\r\n\t\t\t<label for=\"dest\">Arbejde:&nbsp; </label><input id=\"arbejde\" onkeyup=\"search(this.value, this)\" class=\"form-control\" name=\"dest\"></input>\r\n\t\t\t<div width=100 height=100 id=\"livesearcharbejde\"></div>\r\n\t\t\t<br><br><button onclick=\"submit()\" type=\"button\" class=\"btn btn-primary\">Save</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<script>\r\nvar data;\r\n\r\n\tfunction clear(el){\r\n\t\twhile(el.firstChild){\r\n\t\t\tel.removeChild(el.firstChild);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction set(id, el){\r\n\t\tvar target = document.getElementById(el);\r\n\t\ttarget.value = id;\r\n\t\tclear(document.getElementById(\"livesearch\" + el));\r\n\t}\r\n\t\r\n\tfunction search(str, elm){\r\n\t\tif(str && parseInt(str) != NaN){\r\n\t\t\t\r\n\t\t\tvar d = $.ajax({\r\n\t\t\t\turl: 'https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20json%20where%20url%3D%22http%3A%2F%2Fxmlopen.rejseplanen.dk%2Fbin%2Frest.exe%2Flocation%3Fformat%3Djson%26input%3D' + encodeURI(str) + '%22&format=json&diagnostics=true&callback=?',\r\n\t\t\t\tjsonp: \"?\",\r\n\t\t\t\tdataType: \"jsonp\",\r\n\t\t\t\tsuccess: function(d){\r\n\t\t\t\t\tvar target = document.getElementById(\"livesearch\" + elm.id);\r\n\t\t\t\t\tclear(target);\r\n\t\t\t\t\tfor(var el in d.query.results.LocationList.StopLocation){\r\n\t\t\t\t\t\tvar link = document.createElement(\"a\");\r\n\t\t\t\t\t\tlink.setAttribute(\"onclick\", \"set('\" + d.query.results.LocationList.StopLocation[el].id + \"','\" + elm.id + \"');\");\r\n\t\t\t\t\t\tlink.innerHTML = d.query.results.LocationList.StopLocation[el].name\r\n\t\t\t\t\t\ttarget.appendChild(link);\r\n\t\t\t\t\t\ttarget.appendChild(document.createElement(\"br\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(e){\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction submit(){\r\n\t\tvar hjem = document.getElementById(\"hjem\").value;\r\n\t\tvar arbejde = document.getElementById(\"arbejde\").value;\r\n\t\tif(parseInt(hjem) != NaN && parseInt(arbejde) != NaN){\r\n\t\t\twindow.location.href = 'pebblejs://close#success?origin=' + hjem + \"&dest=\" + arbejde;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n</script>\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}